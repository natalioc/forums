<div class="box">
  <div class="left">
<!--user info-->
    <div class="user">
      <div class="username">{{user.username}}</div>
      <div class="bio">{{user.biography}}</div>
    </div>
<!--user's posts-->
    <div class="post-box">
      <a *ngFor="let post of posts" class="post">
        <div class="title">
          <a class="post-title" routerLink="/post/{{post._id}}">{{post.title}}</a>
        </div>
        <div class="post-center">
          <div class="post-stats">
    <!--like button/count-->
            <div class="notLiked">
              <button class="like-button" type="button"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 heart" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
              </svg></button>
            </div>
            <ng-template #liked>
              <button class="like-button" type="button"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 heart" fill="red" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
              </svg></button>
            </ng-template>
            <div class="like-count">{{post.likeCount}}</div>
    <!--comment button/count-->
            <button class="comment-button" type="button" routerLink="/comment/{{post._id}}"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z" />
            </svg></button>
            <p class="comment-count">234</p>
          </div>
    <!--post content-->
          <div class="post-content">
            <p>{{post.content | shorten: 580}}</p>
          </div>
        </div>
    <!--user/date-->
        <div class="post-info">
          <div class="post-date">Today</div>
        </div>
      </a>
    </div>
  </div>
  <div class="right">
<!--user's comments-->
  <div class="stats">
    <div class="header">User Info</div>

        <p>Username: {{user.username}}</p>
        <p>Admin: {{user.isAdmin}}</p>
        <p>Biography: {{user.biography}}</p>
        <div *ngIf="user._id == this.id">
          <button onClick="getElementById('bio-modal').style.display = 'block'">Edit Biography</button>
        </div>

    <div *ngFor="let stats of userStats[1]">
      <div *ngIf="stats.numberOfPosts == [] ">
        <p>#p {{stats.numberOfPosts}}</p>
        <p>#c {{stats.numberOfComments}}</p>
        <p>#l {{stats.numberOfLikes}}</p>
      </div>
    </div>
  </div>
    <div class="comment">
      <h2 class="comment-title">Comments</h2>
      <div *ngFor="let comment of userComments">
        <a *ngFor="let post of posts">
          <a *ngIf="comment.postID == post._id">
            <a class="post-title" routerLink="/post/{{post._id}}">{{post.title}}</a>
            <div class="post-comment">{{comment.content}}</div>
          </a>
        </a>
      </div>
    </div>
<!--all featured posts-->
    <div class="featured">
      <app-feature></app-feature>
    </div>
  </div>
</div>

<app-footer></app-footer>

<script>
  //close popup when user clicks outside of window - FIX
  var bioModal = document.getElementById('bio-modal');
  window.addEventListener("click", function(event) {
    if (event.target == bioModal) {
      bioModal.style.display = "none";
    }
  });
</script>
